(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))s(d);new MutationObserver(d=>{for(const i of d)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(d){const i={};return d.integrity&&(i.integrity=d.integrity),d.referrerpolicy&&(i.referrerPolicy=d.referrerpolicy),d.crossorigin==="use-credentials"?i.credentials="include":d.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(d){if(d.ep)return;d.ep=!0;const i=n(d);fetch(d.href,i)}})();function Y(){}function Pe(t){return t()}function xe(){return Object.create(null)}function $t(t){t.forEach(Pe)}function Me(t){return typeof t=="function"}function ze(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Je(t){return Object.keys(t).length===0}function l(t,e){t.appendChild(e)}function C(t,e,n){t.insertBefore(e,n||null)}function x(t){t.parentNode&&t.parentNode.removeChild(t)}function Wt(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function o(t){return document.createElement(t)}function g(t){return document.createTextNode(t)}function f(){return g(" ")}function u(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Xe(t){return Array.from(t.childNodes)}function T(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function Ce(t,e,n,s){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,s?"important":"")}let Yt;function V(t){Yt=t}const X=[],Oe=[],kt=[],je=[],Ye=Promise.resolve();let Kt=!1;function De(){Kt||(Kt=!0,Ye.then(Ie))}function Jt(t){kt.push(t)}const qt=new Set;let J=0;function Ie(){if(J!==0)return;const t=Yt;do{try{for(;J<X.length;){const e=X[J];J++,V(e),Ge(e.$$)}}catch(e){throw X.length=0,J=0,e}for(V(null),X.length=0,J=0;Oe.length;)Oe.pop()();for(let e=0;e<kt.length;e+=1){const n=kt[e];qt.has(n)||(qt.add(n),n())}kt.length=0}while(X.length);for(;je.length;)je.pop()();Kt=!1,qt.clear(),V(t)}function Ge(t){if(t.fragment!==null){t.update(),$t(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Jt)}}const bt=new Set;let Qe;function Be(t,e){t&&t.i&&(bt.delete(t),t.i(e))}function Re(t,e,n,s){if(t&&t.o){if(bt.has(t))return;bt.add(t),Qe.c.push(()=>{bt.delete(t),s&&(n&&t.d(1),s())}),t.o(e)}else s&&s()}function Ue(t){t&&t.c()}function He(t,e,n,s){const{fragment:d,after_update:i}=t.$$;d&&d.m(e,n),s||Jt(()=>{const c=t.$$.on_mount.map(Pe).filter(Me);t.$$.on_destroy?t.$$.on_destroy.push(...c):$t(c),t.$$.on_mount=[]}),i.forEach(Jt)}function We(t,e){const n=t.$$;n.fragment!==null&&($t(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Ve(t,e){t.$$.dirty[0]===-1&&(X.push(t),De(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function qe(t,e,n,s,d,i,c,p=[-1]){const m=Yt;V(t);const _=t.$$={fragment:null,ctx:[],props:i,update:Y,not_equal:d,bound:xe(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(m?m.$$.context:[])),callbacks:xe(),dirty:p,skip_bound:!1,root:e.target||m.$$.root};c&&c(_.root);let A=!1;if(_.ctx=n?n(t,e.props||{},($,O,...L)=>{const D=L.length?L[0]:O;return _.ctx&&d(_.ctx[$],_.ctx[$]=D)&&(!_.skip_bound&&_.bound[$]&&_.bound[$](D),A&&Ve(t,$)),O}):[],_.update(),A=!0,$t(_.before_update),_.fragment=s?s(_.ctx):!1,e.target){if(e.hydrate){const $=Xe(e.target);_.fragment&&_.fragment.l($),$.forEach(x)}else _.fragment&&_.fragment.c();e.intro&&Be(t.$$.fragment),He(t,e.target,e.anchor,e.customElement),Ie()}V(m)}class Ke{$destroy(){We(this,1),this.$destroy=Y}$on(e,n){if(!Me(n))return Y;const s=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return s.push(n),()=>{const d=s.indexOf(n);d!==-1&&s.splice(d,1)}}$set(e){this.$$set&&!Je(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function Ze(t){let e;return{c(){e=o("div"),e.innerHTML=`<div class="title-container svelte-3jacgc"><pre class="logo svelte-3jacgc">█▄▀ █▀▄ ▀▄▀ ▄▀▄ █   █ ▀█▀ ██▀
█ █ █▀▄  █  ▀▄▀ █▄▄ █  █  █▄▄
  </pre> 
  <span class="subtitle svelte-3jacgc">Saturday Night Lotto</span></div>`,u(e,"class","navbar svelte-3jacgc")},m(n,s){C(n,e,s)},p:Y,i:Y,o:Y,d(n){n&&x(e)}}}class tl extends Ke{constructor(e){super(),qe(this,e,null,Ze,ze,{})}}function Te(t,e,n){const s=t.slice();return s[3]=e[n][0],s[4]=e[n][1],s}function Se(t,e,n){const s=t.slice();return s[3]=e[n][0],s[4]=e[n][1],s}function Ae(t,e,n){const s=t.slice();return s[3]=e[n][0],s[4]=e[n][1],s}function Le(t){let e,n,s,d,i,c,p,m,_,A,$,O,L,D,G,Z=(t[0].ticket_price/1e6).toFixed(2)+"",xt,Dt,Gt,P,tt,Qt,et,lt=t[0].registration_open?"Open":"Closed",Ct,Rt,M,nt,Ut,Q,it=(t[0].ticket_price*Object.keys(t[0].tickets).length/1e6*.99).toFixed(2)+"",Ot,Vt,Zt,st,te,ot,z,I,rt,ee,ct,at=t[0].last_winner.address+"",jt,le,B,dt,ne,R,ut=(t[0].last_winner.reward/1e6).toFixed(2)+"",Tt,ie,se,H,ft,oe,pt,b,_t,re,St,ce,v,At,ae,Lt,de,Nt,ue,ht,fe,vt=t[0].ticket_price/1e6+"",Ft,pe,Et,_e,Pt,he,Mt,ve,zt,ge,gt,me,It,Bt,U,Ht,j,N,mt,ye,we,F,yt,ke,be,E,wt,$e,W=Object.entries(t[0].address_to_tickets),y=[];for(let r=0;r<W.length;r+=1)y[r]=Ne(Ae(t,W,r));let q=Object.entries(t[0].address_to_tickets),w=[];for(let r=0;r<q.length;r+=1)w[r]=Fe(Se(t,q,r));let K=Object.entries(t[0].address_to_tickets),k=[];for(let r=0;r<K.length;r+=1)k[r]=Ee(Te(t,K,r));return{c(){e=o("div"),n=o("div"),s=o("p"),s.textContent="Info",d=f(),i=o("div"),c=o("div"),p=o("div"),m=o("p"),m.textContent="Contract address",_=f(),A=o("p"),A.textContent=`${Xt}`,$=f(),O=o("div"),L=o("p"),L.textContent="Ticket price",D=f(),G=o("p"),xt=g(Z),Dt=g(" kryo"),Gt=f(),P=o("div"),tt=o("p"),tt.textContent="Ticket sale",Qt=f(),et=o("p"),Ct=g(lt),Rt=f(),M=o("div"),nt=o("p"),nt.textContent="Current pot",Ut=f(),Q=o("p"),Ot=g(it),Vt=g(" kryo"),Zt=f(),st=o("p"),st.textContent="Winner",te=f(),ot=o("div"),z=o("div"),I=o("div"),rt=o("p"),rt.textContent="Previous winner",ee=f(),ct=o("p"),jt=g(at),le=f(),B=o("div"),dt=o("p"),dt.textContent="Amount won",ne=f(),R=o("p"),Tt=g(ut),ie=g(" kryo"),se=f(),H=o("div"),ft=o("p"),ft.textContent="Instructions",oe=f(),pt=o("div"),b=o("div"),_t=o("div"),_t.textContent="This is a demo application utilizing Kryolite Standard Token interface.",re=f(),St=o("div"),St.textContent="To participate in this lottery you need to buy a token using Kryolite Wallet.",ce=f(),v=o("ul"),At=o("li"),At.textContent="Open wallet and go to Send tab",ae=f(),Lt=o("li"),Lt.textContent="Select wallet where to send funds from",de=f(),Nt=o("li"),Nt.textContent=`Copy ${Xt} to recipient field, this is the contract address`,ue=f(),ht=o("li"),fe=g("Amount to send: "),Ft=g(vt),pe=f(),Et=o("li"),Et.innerHTML="From the next dropdown select <i>Buy ticket</i>",_e=f(),Pt=o("li"),Pt.textContent="Click Send",he=f(),Mt=o("li"),Mt.textContent="Wait for transaction to complete",ve=f(),zt=o("li"),zt.innerHTML="Your wallet should receive token named <i>Lottery Ticket #X</i>",ge=f(),gt=o("div"),gt.innerHTML="Multiple tickets can be bought for same draw. If you don&#39;t see the dropdown which lets you select <i>Buy ticket</i> your walelt might not have fully synchronized yet.",me=f(),It=o("div"),It.textContent="After winner has been selected old tokens in your wallet will show up as consumed and they will not participate in future draws.",Bt=f(),U=o("p"),U.textContent="Sold tickets",Ht=f(),j=o("div"),N=o("div"),mt=o("p"),mt.textContent="Address",ye=f();for(let r=0;r<y.length;r+=1)y[r].c();we=f(),F=o("div"),yt=o("p"),yt.textContent="Tickets bought",ke=f();for(let r=0;r<w.length;r+=1)w[r].c();be=f(),E=o("div"),wt=o("p"),wt.textContent="Chance to win",$e=f();for(let r=0;r<k.length;r+=1)k[r].c();u(s,"class","title"),u(m,"class","header"),u(A,"class","text"),u(p,"class","row svelte-16kw9vo"),u(L,"class","header"),u(G,"class","text"),u(O,"class","row svelte-16kw9vo"),u(tt,"class","header"),u(et,"class","text"),u(P,"class","row svelte-16kw9vo"),u(nt,"class","header"),u(Q,"class","text"),u(M,"class","row svelte-16kw9vo"),u(c,"class","column"),u(i,"class","container"),u(st,"class","title"),u(rt,"class","header"),u(ct,"class","text"),u(I,"class","row svelte-16kw9vo"),u(dt,"class","header"),u(R,"class","text"),u(B,"class","row svelte-16kw9vo"),u(z,"class","column"),u(ot,"class","container"),u(n,"class","info svelte-16kw9vo"),u(ft,"class","title"),Ce(_t,"margin-bottom","10px"),Ce(gt,"margin-bottom","10px"),u(b,"class","column"),u(pt,"class","container fill-height svelte-16kw9vo"),u(H,"class","instructions svelte-16kw9vo"),u(e,"class","main svelte-16kw9vo"),u(U,"class","title"),u(mt,"class","header"),u(N,"class","column"),u(yt,"class","header"),u(F,"class","column"),u(wt,"class","header"),u(E,"class","column"),u(j,"class","container")},m(r,h){C(r,e,h),l(e,n),l(n,s),l(n,d),l(n,i),l(i,c),l(c,p),l(p,m),l(p,_),l(p,A),l(c,$),l(c,O),l(O,L),l(O,D),l(O,G),l(G,xt),l(G,Dt),l(c,Gt),l(c,P),l(P,tt),l(P,Qt),l(P,et),l(et,Ct),l(c,Rt),l(c,M),l(M,nt),l(M,Ut),l(M,Q),l(Q,Ot),l(Q,Vt),l(n,Zt),l(n,st),l(n,te),l(n,ot),l(ot,z),l(z,I),l(I,rt),l(I,ee),l(I,ct),l(ct,jt),l(z,le),l(z,B),l(B,dt),l(B,ne),l(B,R),l(R,Tt),l(R,ie),l(e,se),l(e,H),l(H,ft),l(H,oe),l(H,pt),l(pt,b),l(b,_t),l(b,re),l(b,St),l(b,ce),l(b,v),l(v,At),l(v,ae),l(v,Lt),l(v,de),l(v,Nt),l(v,ue),l(v,ht),l(ht,fe),l(ht,Ft),l(v,pe),l(v,Et),l(v,_e),l(v,Pt),l(v,he),l(v,Mt),l(v,ve),l(v,zt),l(b,ge),l(b,gt),l(b,me),l(b,It),C(r,Bt,h),C(r,U,h),C(r,Ht,h),C(r,j,h),l(j,N),l(N,mt),l(N,ye);for(let a=0;a<y.length;a+=1)y[a].m(N,null);l(j,we),l(j,F),l(F,yt),l(F,ke);for(let a=0;a<w.length;a+=1)w[a].m(F,null);l(j,be),l(j,E),l(E,wt),l(E,$e);for(let a=0;a<k.length;a+=1)k[a].m(E,null)},p(r,h){if(h&1&&Z!==(Z=(r[0].ticket_price/1e6).toFixed(2)+"")&&T(xt,Z),h&1&&lt!==(lt=r[0].registration_open?"Open":"Closed")&&T(Ct,lt),h&1&&it!==(it=(r[0].ticket_price*Object.keys(r[0].tickets).length/1e6*.99).toFixed(2)+"")&&T(Ot,it),h&1&&at!==(at=r[0].last_winner.address+"")&&T(jt,at),h&1&&ut!==(ut=(r[0].last_winner.reward/1e6).toFixed(2)+"")&&T(Tt,ut),h&1&&vt!==(vt=r[0].ticket_price/1e6+"")&&T(Ft,vt),h&1){W=Object.entries(r[0].address_to_tickets);let a;for(a=0;a<W.length;a+=1){const S=Ae(r,W,a);y[a]?y[a].p(S,h):(y[a]=Ne(S),y[a].c(),y[a].m(N,null))}for(;a<y.length;a+=1)y[a].d(1);y.length=W.length}if(h&1){q=Object.entries(r[0].address_to_tickets);let a;for(a=0;a<q.length;a+=1){const S=Se(r,q,a);w[a]?w[a].p(S,h):(w[a]=Fe(S),w[a].c(),w[a].m(F,null))}for(;a<w.length;a+=1)w[a].d(1);w.length=q.length}if(h&1){K=Object.entries(r[0].address_to_tickets);let a;for(a=0;a<K.length;a+=1){const S=Te(r,K,a);k[a]?k[a].p(S,h):(k[a]=Ee(S),k[a].c(),k[a].m(E,null))}for(;a<k.length;a+=1)k[a].d(1);k.length=K.length}},d(r){r&&x(e),r&&x(Bt),r&&x(U),r&&x(Ht),r&&x(j),Wt(y,r),Wt(w,r),Wt(k,r)}}}function Ne(t){let e,n,s=t[3]+"",d,i,c;return{c(){e=o("p"),n=o("a"),d=g(s),c=f(),u(n,"href",i="https://kryolite-crypto.github.io/explorer/wallet/?wallet="+t[3]),u(e,"class","text")},m(p,m){C(p,e,m),l(e,n),l(n,d),l(e,c)},p(p,m){m&1&&s!==(s=p[3]+"")&&T(d,s),m&1&&i!==(i="https://kryolite-crypto.github.io/explorer/wallet/?wallet="+p[3])&&u(n,"href",i)},d(p){p&&x(e)}}}function Fe(t){let e,n=t[4].length+"",s,d;return{c(){e=o("p"),s=g(n),d=f(),u(e,"class","text")},m(i,c){C(i,e,c),l(e,s),l(e,d)},p(i,c){c&1&&n!==(n=i[4].length+"")&&T(s,n)},d(i){i&&x(e)}}}function Ee(t){let e,n=(t[4].length/t[0].tickets_sold*100).toFixed(2)+"",s,d;return{c(){e=o("p"),s=g(n),d=g(` %
      `),u(e,"class","text")},m(i,c){C(i,e,c),l(e,s),l(e,d)},p(i,c){c&1&&n!==(n=(i[4].length/i[0].tickets_sold*100).toFixed(2)+"")&&T(s,n)},d(i){i&&x(e)}}}function el(t){let e,n,s,d;n=new tl({});let i=t[0]&&Le(t);return{c(){e=o("body"),Ue(n.$$.fragment),s=f(),i&&i.c()},m(c,p){C(c,e,p),He(n,e,null),l(e,s),i&&i.m(e,null),d=!0},p(c,[p]){c[0]?i?i.p(c,p):(i=Le(c),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},i(c){d||(Be(n.$$.fragment,c),d=!0)},o(c){Re(n.$$.fragment,c),d=!1},d(c){c&&x(e),We(n),i&&i.d()}}}const Xt="kryo:wea7jcaqpzm8vvdavbxqzv6zewue4f3u8y9wcz3492",ll="https://testnet-1.kryolite.io";async function nl(t,e,n){return new Promise((s,d)=>{fetch(`${t}${e}`,{body:JSON.stringify(n),headers:{"Content-Type":"application/json"},method:"POST"}).then(i=>i.json().catch(c=>{console.error(c)})).then(i=>{s(i)}).catch(i=>{d(i)})})}function il(t,e,n){let s;d({detail:{data:Xt}});async function d(i){let c=i.detail.data;c&&c.startsWith("kryo:")&&nl(ll,`/contract/${c}/call`,{method:"get_state"}).then(p=>{JSON.stringify(p),p.address=c,n(0,s=p),console.log(s)}).catch(p=>{console.error(p)})}return[s]}class sl extends Ke{constructor(e){super(),qe(this,e,il,el,ze,{})}}new sl({target:document.getElementById("app")});
