(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerpolicy&&(o.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?o.credentials="include":a.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function T(){}function ft(e){return e()}function Xe(){return Object.create(null)}function we(e){e.forEach(ft)}function dt(e){return typeof e=="function"}function pt(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function $t(e){return Object.keys(e).length===0}function l(e,t){e.appendChild(t)}function L(e,t,n){e.insertBefore(t,n||null)}function C(e){e.parentNode&&e.parentNode.removeChild(e)}function ye(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function u(e){return document.createElement(e)}function x(e){return document.createTextNode(e)}function d(){return x(" ")}function f(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function kt(e){return Array.from(e.childNodes)}function W(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function R(e,t,n,s){n===null?e.style.removeProperty(t):e.style.setProperty(t,n,s?"important":"")}let Ne;function te(e){Ne=e}const V=[],Ze=[],$e=[],et=[],wt=Promise.resolve();let Te=!1;function bt(){Te||(Te=!0,wt.then(ht))}function Ee(e){$e.push(e)}const Pe=new Set;let U=0;function ht(){if(U!==0)return;const e=Ne;do{try{for(;U<V.length;){const t=V[U];U++,te(t),xt(t.$$)}}catch(t){throw V.length=0,U=0,t}for(te(null),V.length=0,U=0;Ze.length;)Ze.pop()();for(let t=0;t<$e.length;t+=1){const n=$e[t];Pe.has(n)||(Pe.add(n),n())}$e.length=0}while(V.length);for(;et.length;)et.pop()();Te=!1,Pe.clear(),te(e)}function xt(e){if(e.fragment!==null){e.update(),we(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Ee)}}const ke=new Set;let Ct;function mt(e,t){e&&e.i&&(ke.delete(e),e.i(t))}function St(e,t,n,s){if(e&&e.o){if(ke.has(e))return;ke.add(e),Ct.c.push(()=>{ke.delete(e),s&&(n&&e.d(1),s())}),e.o(t)}else s&&s()}function Lt(e){e&&e.c()}function _t(e,t,n,s){const{fragment:a,after_update:o}=e.$$;a&&a.m(t,n),s||Ee(()=>{const c=e.$$.on_mount.map(ft).filter(dt);e.$$.on_destroy?e.$$.on_destroy.push(...c):we(c),e.$$.on_mount=[]}),o.forEach(Ee)}function gt(e,t){const n=e.$$;n.fragment!==null&&(we(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Dt(e,t){e.$$.dirty[0]===-1&&(V.push(e),bt(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function vt(e,t,n,s,a,o,c,h=[-1]){const m=Ne;te(e);const p=e.$$={fragment:null,ctx:[],props:o,update:T,not_equal:a,bound:Xe(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(m?m.$$.context:[])),callbacks:Xe(),dirty:h,skip_bound:!1,root:t.target||m.$$.root};c&&c(p.root);let v=!1;if(p.ctx=n?n(e,t.props||{},(_,y,...D)=>{const E=D.length?D[0]:y;return p.ctx&&a(p.ctx[_],p.ctx[_]=E)&&(!p.skip_bound&&p.bound[_]&&p.bound[_](E),v&&Dt(e,_)),y}):[],p.update(),v=!0,we(p.before_update),p.fragment=s?s(p.ctx):!1,t.target){if(t.hydrate){const _=kt(t.target);p.fragment&&p.fragment.l(_),_.forEach(C)}else p.fragment&&p.fragment.c();t.intro&&mt(e.$$.fragment),_t(e,t.target,t.anchor,t.customElement),ht()}te(m)}class yt{$destroy(){gt(this,1),this.$destroy=T}$on(t,n){if(!dt(n))return T;const s=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return s.push(n),()=>{const a=s.indexOf(n);a!==-1&&s.splice(a,1)}}$set(t){this.$$set&&!$t(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function Pt(e){let t;return{c(){t=u("div"),t.innerHTML=`<div class="title-container svelte-3jacgc"><pre class="logo svelte-3jacgc">█▄▀ █▀▄ ▀▄▀ ▄▀▄ █   █ ▀█▀ ██▀
█ █ █▀▄  █  ▀▄▀ █▄▄ █  █  █▄▄
  </pre> 
  <span class="subtitle svelte-3jacgc">Saturday Night Lotto</span></div>`,f(t,"class","navbar svelte-3jacgc")},m(n,s){L(n,t,s)},p:T,i:T,o:T,d(n){n&&C(t)}}}class Tt extends yt{constructor(t){super(),vt(this,t,null,Pt,pt,{})}}function tt(e,t,n){const s=e.slice();return s[8]=t[n].numbers,s}function nt(e,t,n){const s=e.slice();return s[11]=t[n].address,s}function lt(e,t,n){const s=e.slice();return s[14]=t[n].reward,s}function it(e,t,n){const s=e.slice();return s[11]=t[n].address,s}function rt(e){let t,n,s,a,o,c,h,m,p,v,_,y,D,E,ne,le=e[0].registrationOpen?"Open":"Closed",be,Oe,A,ie,Fe,Q,re=(e[0].ticketPrice/1e6).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:6})+"",xe,je,Ae,q,se,qe,X,oe=(e[0].currentPot/1e6).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:6})+"",Ce,Ie,Be,Z,I,Je,ce,Me,ae,He,ue,N,B,fe,Ke,de,pe=e[0].previousDigits+"",Se,ze,P,J,he,Ge,Re,M,me,Ue,Ve,_e,Le,ee,De,O,F,ge,We,Ye,j,ve,Qe,H=e[0].winners,$=[];for(let r=0;r<H.length;r+=1)$[r]=st(it(e,H,r));let K=e[0].winners,k=[];for(let r=0;r<K.length;r+=1)k[r]=ot(lt(e,K,r));let z=e[1],w=[];for(let r=0;r<z.length;r+=1)w[r]=ct(nt(e,z,r));let G=e[1],b=[];for(let r=0;r<G.length;r+=1)b[r]=at(tt(e,G,r));return{c(){t=u("div"),n=u("div"),s=u("p"),s.textContent="Info",a=d(),o=u("div"),c=u("div"),h=u("div"),m=u("p"),m.textContent="Contract address",p=d(),v=u("p"),v.textContent=`${Y}`,_=d(),y=u("div"),D=u("p"),D.textContent="Ticket sale",E=d(),ne=u("p"),be=x(le),Oe=d(),A=u("div"),ie=u("p"),ie.textContent="Ticket price",Fe=d(),Q=u("p"),xe=x(re),je=x(" kryo"),Ae=d(),q=u("div"),se=u("p"),se.textContent="Current pot",qe=d(),X=u("p"),Ce=x(oe),Ie=x(" kryo"),Be=d(),Z=u("div"),I=u("a"),Je=x("BUY TICKET"),Me=d(),ae=u("p"),ae.textContent="Last Draw",He=d(),ue=u("div"),N=u("div"),B=u("div"),fe=u("p"),fe.textContent="Lucky Numbers",Ke=d(),de=u("p"),Se=x(pe),ze=d(),P=u("div"),J=u("span"),he=u("p"),he.textContent="Winners",Ge=d();for(let r=0;r<$.length;r+=1)$[r].c();Re=d(),M=u("span"),me=u("p"),me.textContent="Reward",Ue=d();for(let r=0;r<k.length;r+=1)k[r].c();Ve=d(),_e=u("div"),_e.innerHTML=`<p class="title">Instructions</p> 
      <div class="container fill-height svelte-16kw9vo"><div class="column"><div style="margin-bottom: 10px;">This is a demo application utilizing Kryolite Standard Token interface.</div></div></div>`,Le=d(),ee=u("p"),ee.textContent="Sold tickets",De=d(),O=u("div"),F=u("div"),ge=u("p"),ge.textContent="Address",We=d();for(let r=0;r<w.length;r+=1)w[r].c();Ye=d(),j=u("div"),ve=u("p"),ve.textContent="Lotto numbers",Qe=d();for(let r=0;r<b.length;r+=1)b[r].c();f(s,"class","title"),f(m,"class","header"),f(v,"class","text"),f(h,"class","row svelte-16kw9vo"),f(D,"class","header"),f(ne,"class","text"),f(y,"class","row svelte-16kw9vo"),f(ie,"class","header"),f(Q,"class","text"),f(A,"class","row svelte-16kw9vo"),f(se,"class","header"),f(X,"class","text"),f(q,"class","row svelte-16kw9vo"),f(I,"class","btn-5"),f(I,"href",ce="kryolite:call/"+Y+"/"+e[0].ticketPrice+"/"+e[2]),R(Z,"display","flex"),R(Z,"justify-content","center"),f(c,"class","column"),R(c,"width","100%"),f(o,"class","container"),f(ae,"class","title"),f(fe,"class","header"),f(de,"class","text"),f(B,"class","row svelte-16kw9vo"),f(he,"class","header"),f(me,"class","header"),f(P,"class","row svelte-16kw9vo"),R(P,"display","flex"),R(P,"justify-content","space-between"),f(N,"class","column"),R(N,"width","100%"),f(ue,"class","container"),f(n,"class","info svelte-16kw9vo"),f(_e,"class","instructions svelte-16kw9vo"),f(t,"class","main svelte-16kw9vo"),f(ee,"class","title"),f(ge,"class","header"),f(F,"class","column"),f(ve,"class","header"),f(j,"class","column"),f(O,"class","container")},m(r,g){L(r,t,g),l(t,n),l(n,s),l(n,a),l(n,o),l(o,c),l(c,h),l(h,m),l(h,p),l(h,v),l(c,_),l(c,y),l(y,D),l(y,E),l(y,ne),l(ne,be),l(c,Oe),l(c,A),l(A,ie),l(A,Fe),l(A,Q),l(Q,xe),l(Q,je),l(c,Ae),l(c,q),l(q,se),l(q,qe),l(q,X),l(X,Ce),l(X,Ie),l(c,Be),l(c,Z),l(Z,I),l(I,Je),l(n,Me),l(n,ae),l(n,He),l(n,ue),l(ue,N),l(N,B),l(B,fe),l(B,Ke),l(B,de),l(de,Se),l(N,ze),l(N,P),l(P,J),l(J,he),l(J,Ge);for(let i=0;i<$.length;i+=1)$[i].m(J,null);l(P,Re),l(P,M),l(M,me),l(M,Ue);for(let i=0;i<k.length;i+=1)k[i].m(M,null);l(t,Ve),l(t,_e),L(r,Le,g),L(r,ee,g),L(r,De,g),L(r,O,g),l(O,F),l(F,ge),l(F,We);for(let i=0;i<w.length;i+=1)w[i].m(F,null);l(O,Ye),l(O,j),l(j,ve),l(j,Qe);for(let i=0;i<b.length;i+=1)b[i].m(j,null)},p(r,g){if(g&1&&le!==(le=r[0].registrationOpen?"Open":"Closed")&&W(be,le),g&1&&re!==(re=(r[0].ticketPrice/1e6).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:6})+"")&&W(xe,re),g&1&&oe!==(oe=(r[0].currentPot/1e6).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:6})+"")&&W(Ce,oe),g&1&&ce!==(ce="kryolite:call/"+Y+"/"+r[0].ticketPrice+"/"+r[2])&&f(I,"href",ce),g&1&&pe!==(pe=r[0].previousDigits+"")&&W(Se,pe),g&1){H=r[0].winners;let i;for(i=0;i<H.length;i+=1){const S=it(r,H,i);$[i]?$[i].p(S,g):($[i]=st(S),$[i].c(),$[i].m(J,null))}for(;i<$.length;i+=1)$[i].d(1);$.length=H.length}if(g&1){K=r[0].winners;let i;for(i=0;i<K.length;i+=1){const S=lt(r,K,i);k[i]?k[i].p(S,g):(k[i]=ot(S),k[i].c(),k[i].m(M,null))}for(;i<k.length;i+=1)k[i].d(1);k.length=K.length}if(g&2){z=r[1];let i;for(i=0;i<z.length;i+=1){const S=nt(r,z,i);w[i]?w[i].p(S,g):(w[i]=ct(S),w[i].c(),w[i].m(F,null))}for(;i<w.length;i+=1)w[i].d(1);w.length=z.length}if(g&2){G=r[1];let i;for(i=0;i<G.length;i+=1){const S=tt(r,G,i);b[i]?b[i].p(S,g):(b[i]=at(S),b[i].c(),b[i].m(j,null))}for(;i<b.length;i+=1)b[i].d(1);b.length=G.length}},d(r){r&&C(t),ye($,r),ye(k,r),r&&C(Le),r&&C(ee),r&&C(De),r&&C(O),ye(w,r),ye(b,r)}}}function st(e){let t,n,s,a=e[11]+"",o,c,h;return{c(){t=u("div"),n=u("p"),s=u("a"),o=x(a),h=d(),f(s,"href",c="https://kryolite-crypto.github.io/explorer/ledger/"+e[11]),f(n,"class","text"),f(t,"class","row svelte-16kw9vo")},m(m,p){L(m,t,p),l(t,n),l(n,s),l(s,o),l(t,h)},p(m,p){p&1&&a!==(a=m[11]+"")&&W(o,a),p&1&&c!==(c="https://kryolite-crypto.github.io/explorer/ledger/"+m[11])&&f(s,"href",c)},d(m){m&&C(t)}}}function ot(e){let t,n,s=(e[14]/1e6).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:6})+"",a,o,c;return{c(){t=u("div"),n=u("p"),a=x(s),o=x(" kryo"),c=d(),f(n,"class","text"),f(t,"class","row svelte-16kw9vo")},m(h,m){L(h,t,m),l(t,n),l(n,a),l(n,o),l(t,c)},p(h,m){m&1&&s!==(s=(h[14]/1e6).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:6})+"")&&W(a,s)},d(h){h&&C(t)}}}function ct(e){let t,n,s=e[11]+"",a,o;return{c(){t=u("p"),n=u("a"),a=x(s),o=d(),f(n,"href","https://kryolite-crypto.github.io/explorer/ledger/"+e[11]),f(t,"class","text")},m(c,h){L(c,t,h),l(t,n),l(n,a),l(t,o)},p:T,d(c){c&&C(t)}}}function at(e){let t,n=e[8]+"",s,a;return{c(){t=u("p"),s=x(n),a=d(),f(t,"class","text")},m(o,c){L(o,t,c),l(t,s),l(t,a)},p:T,d(o){o&&C(t)}}}function Et(e){let t,n,s,a;n=new Tt({});let o=e[0]&&rt(e);return{c(){t=u("body"),Lt(n.$$.fragment),s=d(),o&&o.c()},m(c,h){L(c,t,h),_t(n,t,null),l(t,s),o&&o.m(t,null),a=!0},p(c,[h]){c[0]?o?o.p(c,h):(o=rt(c),o.c(),o.m(t,null)):o&&(o.d(1),o=null)},i(c){a||(mt(n.$$.fragment,c),a=!0)},o(c){St(n.$$.fragment,c),a=!1},d(c){c&&C(t),gt(n),o&&o.d()}}}const Y="kryo:ag7td4m4c6ks7qhevxayamdjc5qbe5rcimmqyfqd",ut="https://testnet-1.kryolite.io";async function Nt(e,t,n){return new Promise((s,a)=>{fetch(`${e}${t}`,{body:JSON.stringify(n),headers:{"Content-Type":"application/json"},method:"POST"}).then(o=>o.json().catch(c=>{console.error(c)})).then(o=>{s(o)}).catch(o=>{a(o)})})}function Ot(e,t,n){let s,a=[];const o=new EventSource(ut+`/contract/${Y}/listen`);o.onmessage=v=>{var _=JSON.parse(v.data);console.log(_),_.Type==="Custom"&&_.Event.EventData[0]==="0"&&c()},c();async function c(){Nt(ut,`/contract/${Y}/call`,{method:"GetState"}).then(v=>{JSON.stringify(v),v.address=Y,n(0,s=v),s.tickets.forEach(_=>{_.tickets.forEach(y=>{a.push({address:_.address,numbers:y.description.match(/\[(.*?)\]/)[1]})})})}).catch(v=>{console.error(v)})}const h=v=>{let _="";for(let y=0;y<v.length;y++){const E=v.charCodeAt(y).toString(16);_+=E.padStart(2,"0")}return _};function m(){return h(JSON.stringify({method:"BuyTicket"}))}const p=m();return[s,a,p,m]}class Ft extends yt{constructor(t){super(),vt(this,t,Ot,Et,pt,{updateParams:3})}get updateParams(){return this.$$.ctx[3]}}new Ft({target:document.getElementById("app")});
